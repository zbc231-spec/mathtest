<!doctype html>
<html lang="zh-TW">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ¯”ä¾‹ç·´ç¿’æ¸¬é©—</title>
  <script src="/_sdk/element_sdk.js"></script>
  <style>
    body {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Microsoft JhengHei', sans-serif;
      min-height: 100%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }
    
    html {
      height: 100%;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
    }
    
    .page {
      display: none;
      background: white;
      border-radius: 16px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }
    
    .page.active {
      display: block;
    }
    
    .header {
      text-align: center;
      margin-bottom: 30px;
    }
    
    .header h1 {
      color: #667eea;
      font-size: 32px;
      margin: 0 0 10px 0;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
    }
    
    .date-box {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      color: white;
      padding: 12px 24px;
      border-radius: 12px;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 18px;
      font-weight: bold;
      box-shadow: 0 4px 15px rgba(245,87,108,0.4);
    }
    
    .form-group {
      margin-bottom: 24px;
    }
    
    .form-group label {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 18px;
      font-weight: bold;
      color: #333;
      margin-bottom: 8px;
    }
    
    .form-group input {
      width: 100%;
      padding: 14px;
      border: 2px solid #e0e0e0;
      border-radius: 8px;
      font-size: 16px;
      transition: all 0.3s;
    }
    
    .form-group input:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102,126,234,0.1);
    }
    
    .form-group small {
      display: block;
      margin-top: 6px;
      color: #666;
      font-size: 14px;
    }
    
    .btn {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      padding: 16px 32px;
      font-size: 18px;
      font-weight: bold;
      border-radius: 12px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      width: 100%;
      transition: transform 0.2s, box-shadow 0.2s;
      box-shadow: 0 4px 15px rgba(102,126,234,0.4);
    }
    
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(102,126,234,0.5);
    }
    
    .btn:active {
      transform: translateY(0);
    }
    
    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }
    
    .progress-bar {
      background: #f0f0f0;
      border-radius: 20px;
      height: 8px;
      margin-bottom: 30px;
      overflow: hidden;
    }
    
    .progress-fill {
      background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
      height: 100%;
      transition: width 0.3s;
      border-radius: 20px;
    }
    
    .question-info {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding: 16px;
      background: #f8f9ff;
      border-radius: 12px;
    }
    
    .question-number {
      font-size: 20px;
      font-weight: bold;
      color: #667eea;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .student-info {
      font-size: 14px;
      color: #666;
      display: flex;
      align-items: center;
      gap: 6px;
    }
    
    .question-content {
      background: #f8f9ff;
      padding: 32px;
      border-radius: 12px;
      margin-bottom: 24px;
      text-align: center;
    }
    
    .ratio-equation {
      font-size: 36px;
      font-weight: bold;
      color: #333;
      margin-bottom: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 16px;
    }
    
    .answer-input {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: white;
      padding: 8px 16px;
      border-radius: 8px;
      border: 3px solid #667eea;
    }
    
    .answer-input input {
      width: 80px;
      padding: 8px;
      border: 2px solid #e0e0e0;
      border-radius: 6px;
      font-size: 24px;
      font-weight: bold;
      text-align: center;
    }
    
    .fraction-input {
      display: inline-flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
    }
    
    .fraction-input input {
      width: 60px;
    }
    
    .fraction-line {
      width: 70px;
      height: 3px;
      background: #333;
    }
    
    .answer-hint {
      margin-top: 16px;
      padding: 12px;
      background: #fff3cd;
      border-left: 4px solid #ffc107;
      border-radius: 6px;
      color: #856404;
      font-size: 14px;
    }
    
    .results-container {
      margin-top: 30px;
    }
    
    .score-display {
      text-align: center;
      margin-bottom: 40px;
      padding: 32px;
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      border-radius: 16px;
      color: white;
    }
    
    .score-display h2 {
      font-size: 28px;
      margin: 0 0 16px 0;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
    }
    
    .score-number {
      font-size: 64px;
      font-weight: bold;
      margin: 16px 0;
    }
    
    .result-item {
      background: #f8f9ff;
      padding: 24px;
      border-radius: 12px;
      margin-bottom: 16px;
      border-left: 5px solid #667eea;
    }
    
    .result-item.correct {
      border-left-color: #4caf50;
    }
    
    .result-item.incorrect {
      border-left-color: #f44336;
    }
    
    .result-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
      font-size: 18px;
      font-weight: bold;
    }
    
    .status-badge {
      padding: 6px 16px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: bold;
    }
    
    .status-badge.correct {
      background: #4caf50;
      color: white;
    }
    
    .status-badge.incorrect {
      background: #f44336;
      color: white;
    }
    
    .solution {
      background: white;
      padding: 16px;
      border-radius: 8px;
      margin-top: 12px;
    }
    
    .solution-title {
      font-weight: bold;
      color: #667eea;
      margin-bottom: 8px;
      font-size: 16px;
    }
    
    .solution-steps {
      line-height: 1.8;
      color: #555;
      font-size: 15px;
    }
    
    .solution-steps div {
      margin-bottom: 6px;
    }
    
    .loading {
      text-align: center;
      padding: 20px;
      color: #667eea;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
  <script src="https://cdn.tailwindcss.com" type="text/javascript"></script>
 </head>
 <body>
  <div class="container"><!-- é–‹å§‹é é¢ -->
   <div id="startPage" class="page active">
    <div class="header">
     <h1><span style="font-size: 40px;">ğŸ“</span> <span id="mainTitle">æ¯”ä¾‹ç·´ç¿’   é©—</span></h1>
     <div class="date-box"><span style="font-size: 20px;">ğŸ“…</span> <span id="dateLabel">ä»Šæ—¥ç·´ç¿’æ—¥æœŸ</span>ï¼š<span id="todayDate"></span>
     </div>
    </div>
    <div class="form-group"><label for="gradeInput"> <span style="font-size: 24px;">ğŸ“</span> <span id="gradeLabel">å¹´ç´š</span> </label> <input type="number" id="gradeInput" min="1" max="9" placeholder="è«‹è¼¸å…¥å¹´ç´š"> <small>5å¹´ç´šè«‹å¡«5ï¼Œ6å¹´ç´šè«‹å¡«6</small>
    </div>
    <div class="form-group"><label for="classInput"> <span style="font-size: 24px;">ğŸ«</span> <span id="classLabel">ç­ç´š</span> </label> <input type="number" id="classInput" min="1" placeholder="è«‹è¼¸å…¥ç­ç´š"> <small>1ç­è«‹å¡«1ï¼Œ2ç­è«‹å¡«2ï¼Œä¾æ­¤é¡æ¨</small>
    </div>
    <div class="form-group"><label for="seatInput"> <span style="font-size: 24px;">ğŸ’º</span> <span id="seatLabel">åº§è™Ÿ</span> </label> <input type="number" id="seatInput" min="1" placeholder="è«‹è¼¸å…¥åº§è™Ÿ"> <small>1è™Ÿè«‹å¡«1ï¼Œ2è™Ÿè«‹å¡«2ï¼Œä¾æ­¤é¡æ¨</small>
    </div><button class="btn" id="startBtn"> <span style="font-size: 24px;">ğŸš€</span> <span id="startButtonText">é–‹å§‹ç·´ç¿’</span> </button>
   </div><!-- æ¸¬é©—é é¢ -->
   <div id="quizPage" class="page">
    <div class="progress-bar">
     <div class="progress-fill" id="progressFill"></div>
    </div>
    <div class="question-info">
     <div class="question-number"><span style="font-size: 24px;">ğŸ“</span> <span>ç¬¬ <span id="currentQuestion">1</span> é¡Œ / å…± 6 é¡Œ</span>
     </div>
     <div class="student-info" id="studentInfo"><span style="font-size: 16px;">ğŸ‘¤</span> <span></span>
     </div>
    </div>
    <div class="question-content">
     <div class="ratio-equation" id="questionText"></div>
     <div id="answerInputArea"></div>
     <div class="answer-hint" id="answerHint" style="display: none;"></div>
    </div><button class="btn" id="submitBtn"> <span style="font-size: 24px;">âœ…</span> <span>æäº¤ç­”æ¡ˆ</span> </button>
   </div><!-- çµæœé é¢ -->
   <div id="resultPage" class="page">
    <div class="score-display">
     <h2><span style="font-size: 36px;">ğŸ‰</span> <span>æ¸¬é©—å®Œæˆï¼</span></h2>
     <div style="font-size: 32px; font-weight: bold; margin: 20px 0;">
      å¾—åˆ†ï¼š<span id="correctCount">0</span>
     </div>
    </div>
    <div class="results-container" id="resultsContainer"></div><button class="btn" id="restartBtn"> <span style="font-size: 24px;">ğŸ”„</span> <span>é‡æ–°é–‹å§‹</span> </button>
   </div>
  </div>
  <script>
    const defaultConfig = {
      main_title: "æ¯”çš„æ‡‰ç”¨",
      date_label: "ä»Šæ—¥ç·´ç¿’æ—¥æœŸ",
      grade_label: "å¹´ç´š",
      class_label: "ç­ç´š",
      seat_label: "åº§è™Ÿ",
      start_button_text: "é–‹å§‹ç·´ç¿’"
    };

    const allQuestions = [
      { question: "3.4ï¼š2.2ï¼17ï¼šâ–¡", answer: "11", type: "decimal", solution: ["å·²çŸ¥ï¼š3.4ï¼š2.2 = 17ï¼šâ–¡", "æ ¹æ“šæ¯”ä¾‹æ€§è³ªï¼Œå¤–é …ä¹˜ç© = å…§é …ä¹˜ç©", "3.4 Ã— â–¡ = 2.2 Ã— 17", "3.4 Ã— â–¡ = 37.4", "â–¡ = 37.4 Ã· 3.4", "â–¡ = 11"] },
      { question: "4.2ï¼š3.8ï¼21ï¼šâ–¡", answer: "19", type: "decimal", solution: ["å·²çŸ¥ï¼š4.2ï¼š3.8 = 21ï¼šâ–¡", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "4.2 Ã— â–¡ = 3.8 Ã— 21", "4.2 Ã— â–¡ = 79.8", "â–¡ = 79.8 Ã· 4.2", "â–¡ = 19"] },
      { question: "4ï¼š5ï¼21ï¼šâ–¡", answer: "26.25", type: "decimal", solution: ["å·²çŸ¥ï¼š4ï¼š5 = 21ï¼šâ–¡", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "4 Ã— â–¡ = 5 Ã— 21", "4 Ã— â–¡ = 105", "â–¡ = 105 Ã· 4", "â–¡ = 26.25"] },
      { question: "3.7ï¼š1.5ï¼â–¡ï¼š9", answer: "22.2", type: "decimal", solution: ["å·²çŸ¥ï¼š3.7ï¼š1.5 = â–¡ï¼š9", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "1.5 Ã— â–¡ = 3.7 Ã— 9", "1.5 Ã— â–¡ = 33.3", "â–¡ = 33.3 Ã· 1.5", "â–¡ = 22.2"] },
      { question: "24ï¼š216ï¼â–¡ï¼š72", answer: "8", type: "integer", solution: ["å·²çŸ¥ï¼š24ï¼š216 = â–¡ï¼š72", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "216 Ã— â–¡ = 24 Ã— 72", "216 Ã— â–¡ = 1728", "â–¡ = 1728 Ã· 216", "â–¡ = 8"] },
      { question: "9ï¼š28ï¼36ï¼šâ–¡", answer: "112", type: "integer", solution: ["å·²çŸ¥ï¼š9ï¼š28 = 36ï¼šâ–¡", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "9 Ã— â–¡ = 28 Ã— 36", "9 Ã— â–¡ = 1008", "â–¡ = 1008 Ã· 9", "â–¡ = 112"] },
      { question: "2.8ï¼š1.6ï¼14ï¼šâ–¡", answer: "8", type: "integer", solution: ["å·²çŸ¥ï¼š2.8ï¼š1.6 = 14ï¼šâ–¡", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "2.8 Ã— â–¡ = 1.6 Ã— 14", "2.8 Ã— â–¡ = 22.4", "â–¡ = 22.4 Ã· 2.8", "â–¡ = 8"] },
      { question: "7ï¼šâ–¡ï¼2ï¼š6", answer: "21", type: "integer", solution: ["å·²çŸ¥ï¼š7ï¼šâ–¡ = 2ï¼š6", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "2 Ã— â–¡ = 7 Ã— 6", "2 Ã— â–¡ = 42", "â–¡ = 42 Ã· 2", "â–¡ = 21"] },
      { question: "3ï¼š  ï¼8ï¼š12", answer: "4.5", type: "decimal", solution: ["å·²çŸ¥ï¼š3ï¼šâ–¡ = 8ï¼š12", "æ ¹   æ¯”ä¾‹æ€§è³ª", "8 Ã— â–¡ = 3 Ã— 12", "8 Ã— â–¡ = 36", "â–¡ = 36 Ã· 8", "â–¡ = 4.5"] },
      { question: "2.3ï¼š3.5ï¼â–¡ï¼š7", answer: "4.6", type: "decimal", solution: ["å·²çŸ¥ï¼š2.3ï¼š3.5 = â–¡ï¼š7", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "3.5 Ã— â–¡ = 2.3 Ã— 7", "3.5 Ã— â–¡ = 16.1", "â–¡ = 16.1 Ã· 3.5", "â–¡ = 4.6"] },
      { question: "1.8ï¼š2.5ï¼â–¡ï¼š10", answer: "7.2", type: "decimal", solution: ["å·²çŸ¥ï¼š1.8ï¼š2.5 = â–¡ï¼š10", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "2.5 Ã— â–¡ = 1.8 Ã— 10", "2.5 Ã— â–¡ = 18", "â–¡ = 18 Ã· 2.5", "â–¡ = 7.2"] },
      { question: "7.5ï¼š6.5ï¼30ï¼šâ–¡", answer: "26", type: "integer", solution: ["å·²çŸ¥ï¼š7.5ï¼š6.5 = 30ï¼šâ–¡", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "7.5 Ã— â–¡ = 6.5 Ã— 30", "7.5 Ã— â–¡ = 195", "â–¡ = 195 Ã· 7.5", "â–¡ = 26"] },
      { question: "6ï¼šâ–¡ï¼20ï¼š14", answer: "4.2", type: "decimal", solution: ["å·²çŸ¥ï¼š6ï¼šâ–¡ = 20ï¼š14", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "20 Ã— â–¡ = 6 Ã— 14", "20 Ã— â–¡ = 84", "â–¡ = 84 Ã· 20", "â–¡ = 4.2"] },
      { question: "â–¡ï¼š800ï¼5ï¼š20", answer: "200", type: "integer", solution: ["å·²çŸ¥ï¼šâ–¡ï¼š800 = 5ï¼š20", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "20 Ã— â–¡ = 5 Ã— 800", "20 Ã— â–¡ = 4000", "â–¡ = 4000 Ã· 20", "â–¡ = 200"] },
      { question: "6ï¼šâ–¡ï¼8ï¼š10", answer: "7.5", type: "decimal", solution: ["å·²çŸ¥ï¼š6ï¼šâ–¡ = 8ï¼š10", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "8 Ã— â–¡ = 6 Ã— 10", "8 Ã— â–¡ = 60", "â–¡ = 60 Ã· 8", "â–¡ = 7.5"] },
      { question: "12ï¼šâ–¡ï¼18ï¼š15", answer: "10", type: "integer", solution: ["å·²çŸ¥ï¼š12ï¼šâ–¡ = 18ï¼š15", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "18 Ã— â–¡ = 12 Ã— 15", "18 Ã— â–¡ = 180", "â–¡ = 180 Ã· 18", "â–¡ = 10"] },
      { question: "4ï¼š3ï¼2ï¼šâ–¡", answer: "1.5", type: "decimal", solution: ["å·²çŸ¥ï¼š4ï¼š3 = 2ï¼šâ–¡", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "4 Ã— â–¡ = 3 Ã— 2", "4 Ã— â–¡ = 6", "â–¡ = 6 Ã· 4", "â–¡ = 1.5"] },
      { question: "1.6ï¼š2.5ï¼â–¡ï¼š10", answer: "6.4", type: "decimal", solution: ["å·²çŸ¥ï¼š1.6ï¼š2.5 = â–¡ï¼š10", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "2.5 Ã— â–¡ = 1.6 Ã— 10", "2.5 Ã— â–¡ = 16", "â–¡ = 16 Ã· 2.5", "â–¡ = 6.4"] },
      { question: "7ï¼šâ–¡ï¼63ï¼š81", answer: "9", type: "integer", solution: ["å·²çŸ¥ï¼š7ï¼šâ–¡ = 63ï¼š81", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "63 Ã— â–¡ = 7 Ã— 81", "63 Ã— â–¡ = 567", "â–¡ = 567 Ã· 63", "â–¡ = 9"] },
      { question: "3ï¼š5ï¼â–¡ï¼š125", answer: "75", type: "integer", solution: ["å·²çŸ¥ï¼š3ï¼š5 = â–¡ï¼š125", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "5 Ã— â–¡ = 3 Ã— 125", "5 Ã— â–¡ = 375", "â–¡ = 375 Ã· 5", "â–¡ = 75"] },
      { question: "0.5ï¼šâ–¡ï¼6ï¼š1", answer: "1/12", type: "fraction", numerator: "1", denominator: "12", solution: ["å·²çŸ¥ï¼š0.5ï¼šâ–¡ = 6ï¼š1", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "6 Ã— â–¡ = 0.5 Ã— 1", "6 Ã— â–¡ = 0.5", "â–¡ = 0.5 Ã· 6", "â–¡ = 1/12"] },
      { question: "91ï¼šâ–¡ï¼13ï¼š2", answer: "14", type: "integer", solution: ["å·²çŸ¥ï¼š91ï¼šâ–¡ = 13ï¼š2", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "13 Ã— â–¡ = 91 Ã— 2", "13 Ã— â–¡ = 182", "â–¡ = 182 Ã· 13", "â–¡ = 14"] },
      { question: "42ï¼šâ–¡ï¼21ï¼š30", answer: "60", type: "integer", solution: ["å·²çŸ¥ï¼š42ï¼šâ–¡ = 21ï¼š30", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "21 Ã— â–¡ = 42 Ã— 30", "21 Ã— â–¡ = 1260", "â–¡ = 1260 Ã· 21", "â–¡ = 60"] },
      { question: "1ï¼š2ï¼â–¡ï¼š46", answer: "23", type: "integer", solution: ["å·²çŸ¥ï¼š1ï¼š2 = â–¡ï¼š46", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "2 Ã— â–¡ = 1 Ã— 46", "2 Ã— â–¡ = 46", "â–¡ = 46 Ã· 2", "â–¡ = 23"] },
      { question: "35ï¼šâ–¡ï¼5ï¼š14", answer: "98", type: "integer", solution: ["å·²çŸ¥ï¼š35ï¼šâ–¡ = 5ï¼š14", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "5 Ã— â–¡ = 35 Ã— 14", "5 Ã— â–¡ = 490", "â–¡ = 490 Ã· 5", "â–¡ = 98"] },
      { question: "19ï¼š71ï¼â–¡ï¼š568", answer: "152", type: "integer", solution: ["å·²çŸ¥ï¼š19ï¼š71 = â–¡ï¼š568", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "71 Ã— â–¡ = 19 Ã— 568", "71 Ã— â–¡ = 10792", "â–¡ = 10792 Ã· 71", "â–¡ = 152"] },
      { question: "2ï¼š6ï¼7ï¼šâ–¡", answer: "21", type: "integer", solution: ["å·²çŸ¥ï¼š2ï¼š6 = 7ï¼šâ–¡", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "2 Ã— â–¡ = 6 Ã— 7", "2 Ã— â–¡ = 42", "â–¡ = 42 Ã· 2", "â–¡ = 21"] },
      { question: "3.4ï¼š6ï¼â–¡ï¼š30", answer: "17", type: "integer", solution: ["å·²çŸ¥ï¼š3.4ï¼š6 = â–¡ï¼š30", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "6 Ã— â–¡ = 3.4 Ã— 30", "6 Ã— â–¡ = 102", "â–¡ = 102 Ã· 6", "â–¡ = 17"] },
      { question: "7ï¼š4ï¼â–¡ï¼š28", answer: "49", type: "integer", solution: ["å·²çŸ¥ï¼š7ï¼š4 = â–¡ï¼š28", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "4 Ã— â–¡ = 7 Ã— 28", "4 Ã— â–¡ = 196", "â–¡ = 196 Ã· 4", "â–¡ = 49"] },
      { question: "0.4ï¼š1.6ï¼â–¡ï¼š48", answer: "12", type: "integer", solution: ["å·²çŸ¥ï¼š0.4ï¼š1.6 = â–¡ï¼š48", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "1.6 Ã— â–¡ = 0.4 Ã— 48", "1.6 Ã— â–¡ = 19.2", "â–¡ = 19.2 Ã· 1.6", "â–¡ = 12"] },
      { question: "16ï¼š13ï¼â–¡ï¼š52", answer: "64", type: "integer", solution: ["å·²çŸ¥ï¼š16ï¼š13 = â–¡ï¼š52", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "13 Ã— â–¡ = 16 Ã— 52", "13 Ã— â–¡ = 832", "â–¡ = 832 Ã· 13", "â–¡ = 64"] },
      { question: "52ï¼šâ–¡ï¼2.6ï¼š4.2", answer: "84", type: "integer", solution: ["å·²çŸ¥ï¼š52ï¼šâ–¡ = 2.6ï¼š4.2", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "2.6 Ã— â–¡ = 52 Ã— 4.2", "2.6 Ã— â–¡ = 218.4", "â–¡ = 218.4 Ã· 2.6", "â–¡ = 84"] },
      { question: "12ï¼š<div style='display:inline-flex;flex-direction:column;align-items:center;vertical-align:middle;margin:0 4px;'><span style='font-size:20px;'>4</span><span style='border-top:2px solid #333;width:30px;margin:2px 0;'></span><span style='font-size:20px;'>13</span></div>ï¼â–¡ï¼š4", answer: "156", type: "integer", solution: ["å·²çŸ¥ï¼š12ï¼š4/13 = â–¡ï¼š4", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "4/13 Ã— â–¡ = 12    4", "4/13 Ã— â–¡ = 48", "â–¡ = 48 Ã· 4/13", "â–¡ = 48 Ã— 13/4 = 156"] },
      { question: "<div style='display:inline-flex;flex-direction:column;align-items:center;vertical-align:middle;margin:0 4px;'><span style='font-size:20px;'>8</span><span style='border-top:2px solid #333;width:30px;margin:2px 0;'></span><span style='font-size:20px;'>21</span></div>ï¼š<div style='display:inline-flex;flex-direction:column;align-items:center;vertical-align:middle;margin:0 4px;'><span style='font-size:20px;'>2</span><span style='border-top:2px solid #333;width:30px;margin:2px 0;'></span><span style='font-size:20px;'>3</span></div>ï¼4ï¼šâ–¡", answer: "7", type: "integer", solution: ["å·²çŸ¥ï¼š8/21ï¼š2/3 = 4ï¼šâ–¡", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "8/21 Ã— â–¡ = 2/3 Ã— 4", "8/21 Ã— â–¡ = 8/3", "â–¡ = 8/3 Ã· 8/21", "â–¡ = 8/3 Ã— 21/8 = 7"] },
      { question: "3<div style='display:inline-flex;flex-direction:column;align-items:center;vertical-align:middle;margin:0 4px;'><span style='font-size:20px;'>1</span><span style='border-top:2px solid #333;width:30px;margin:2px 0;'></span><span style='font-size:20px;'>5</span></div>ï¼š4<div style='display:inline-flex;flex-direction:column;align-items:center;vertical-align:middle;margin:0 4px;'><span style='font-size:20px;'>2</span><span style='border-top:2px solid #333;width:30px;margin:2px 0;'></span><span style='font-size:20px;'>6</span></div>ï¼â–¡ï¼š13", answer: "9.6", type: "decimal", solution: ["å·²çŸ¥ï¼š3 1/5ï¼š4 2/6 = â–¡ï¼š13", "å…ˆè½‰æ›å¸¶åˆ†æ•¸ï¼š3 1/5 = 16/5ï¼Œ4 2/6 = 13/3", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "13/3 Ã— â–¡ = 16/5 Ã— 13", "13/3 Ã— â–¡ = 208/5", "â–¡ = 208/5 Ã· 13/3 = 208/5 Ã— 3/13 = 9.6"] },
      { question: "10<div style='display:inline-flex;flex-direction:column;align-items:center;vertical-align:middle;margin:0 4px;'><span style='font-size:20px;'>6</span><span style='border-top:2px solid #333;width:30px;margin:2px 0;'></span><span style='font-size:20px;'>7</span></div>ï¼š19ï¼â–¡ï¼š1.4", answer: "0.8", type: "decimal", solution: ["å·²çŸ¥ï¼š10 6/7ï¼š19 = â–¡ï¼š1.4", "å…ˆè½‰æ›å¸¶åˆ†æ•¸ï¼š10 6/7 = 76/7", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "19 Ã— â–¡ = 76/7 Ã— 1.4", "19 Ã— â–¡ = 15.2", "â–¡ = 15.2 Ã· 19", "â–¡ = 0.8"] },
      { question: "2<div style='display:inline-flex;flex-direction:column;align-items:center;vertical-align:middle;margin:0 4px;'><span style='font-size:20px;'>4</span><span style='border-top:2px solid #333;width:30px;margin:2px 0;'></span><span style='font-size:20px;'>5</span></div>ï¼š5ï¼12ï¼šâ–¡", answer: "21 3/7", type: "fraction", numerator: "150", denominator: "7", solution: ["å·²çŸ¥ï¼š2 4/5ï¼š5 = 12ï¼šâ–¡", "å…ˆè½‰æ›å¸¶åˆ†æ•¸ï¼š2 4/5 = 14/5", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "14/5 Ã— â–¡ = 5 Ã— 12", "14/5 Ã— â–¡ = 60", "â–¡ = 60 Ã· 14/5 = 60 Ã— 5/14 = 150/7 = 21 3/7"] },
      { question: "3ï¼šâ–¡ï¼12ï¼š3<div style='display:inline-flex;flex-direction:column;align-items:center;vertical-align:middle;margin:0 4px;'><span style='font-size:20px;'>1</span><span style='border-top:2px solid #333;width:30px;margin:2px 0;'></span><span style='font-size:20px;'>3</span></div>", answer: "5/6", type: "fraction", numerator: "5", denominator: "6", solution: ["å·²çŸ¥ï¼š3ï¼šâ–¡ = 12ï¼š3 1/3", "å…ˆè½‰æ›å¸¶åˆ†æ•¸ï¼š3 1/3 = 10/3", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "12 Ã— â–¡ = 3 Ã— 10/3", "12 Ã— â–¡ = 10", "â–¡ = 10 Ã· 12 = 5/6"] },
      { question: "5ï¼š4<div style='display:inline-flex;flex-direction:column;align-items:center;vertical-align:middle;margin:0 4px;'><span style='font-size:20px;'>2</span><span style='border-top:2px solid #333;width:30px;margin:2px 0;'></span><span style='font-size:20px;'>7</span></div>ï¼â–¡ï¼š6", answer: "7", type: "integer", solution: ["å·²çŸ¥ï¼š5ï¼š4 2/7 = â–¡ï¼š6", "å…ˆè½‰æ›å¸¶åˆ†æ•¸ï¼š4 2/7 = 30/7", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "30/7 Ã— â–¡ = 5 Ã— 6", "30/7 Ã— â–¡ = 30", "â–¡ = 30 Ã· 30/7 = 30 Ã— 7/30 = 7"] },
      { question: "13<div style='display:inline-flex;flex-direction:column;align-items:center;vertical-align:middle;margin:0 4px;'><span style='font-size:20px;'>2</span><span style='border-top:2px solid #333;width:30px;margin:2px 0;'></span><span style='font-size:20px;'>5</span></div>ï¼šâ–¡ï¼14ï¼š5", answer: "4 11/14", type: "fraction", numerator: "67", denominator: "14", solution: ["å·²çŸ¥ï¼š13 2/5ï¼šâ–¡ = 14ï¼š5", "å…ˆè½‰æ›å¸¶åˆ†æ•¸ï¼š13 2/5 = 67/5", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "14 Ã— â–¡ = 67/5 Ã— 5", "14 Ã— â–¡ = 67", "â–¡ = 67 Ã· 14 = 67/14 = 4 11/14"] },
      { question: "15ï¼š17ï¼9ï¼šâ–¡", answer: "10.2", type: "decimal", solution: ["å·²çŸ¥ï¼š15ï¼š17 = 9ï¼šâ–¡", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "15 Ã— â–¡ = 17 Ã— 9", "15 Ã— â–¡ = 153", "â–¡ = 153 Ã· 15", "â–¡ = 10.2"] },
      { question: "5<div style='display:inline-flex;flex-direction:column;align-items:center;vertical-align:middle;margin:0 4px;'><span style='font-size:20px;'>3</span><span style='border-top:2px solid #333;width:30px;margin:2px 0;'></span><span style='font-size:20px;'>7</span></div>ï¼š4ï¼19ï¼šâ–¡", answer: "14", type: "integer", solution: ["å·²çŸ¥ï¼š5 3/7ï¼š4 = 19ï¼šâ–¡", "å…ˆè½‰æ›å¸¶åˆ†æ•¸ï¼š5 3/7 = 38/7", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "38/7 Ã— â–¡ = 4 Ã— 19", "38/7 Ã— â–¡ = 76", "â–¡ = 76 Ã· 38/7 = 76 Ã— 7/38 = 14"] },
      { question: "3ï¼šâ–¡ï¼1.2ï¼š2", answer: "5", type: "integer", solution: ["å·²çŸ¥ï¼š3ï¼šâ–¡ = 1.2ï¼š2", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "1.2 Ã— â–¡ = 3 Ã— 2", "1.2 Ã— â–¡ = 6", "â–¡ = 6 Ã· 1.2", "â–¡ = 5"] },
      { question: "23ï¼šâ–¡ï¼11.5ï¼š9.5", answer: "19", type: "integer", solution: ["å·²çŸ¥ï¼š23ï¼šâ–¡ = 11.5ï¼š9.5", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "11.5 Ã— â–¡ = 23 Ã— 9.5", "11.5 Ã— â–¡ = 218.5", "â–¡ = 218.5 Ã· 11.5", "â–¡ = 19"] },
      { question: "27ï¼š35ï¼9ï¼šâ–¡", answer: "11 2/3", type: "fraction", numerator: "35", denominator: "3", solution: ["å·²çŸ¥ï¼š27ï¼š35 = 9ï¼šâ–¡", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "27 Ã— â–¡ = 35 Ã— 9", "27 Ã— â–¡ = 315", "â–¡ = 315 Ã· 27", "â–¡ = 35/3 = 11 2/3"] },
      { question: "7ï¼š0.5ï¼â–¡ï¼š21", answer: "294", type: "integer", solution: ["å·²çŸ¥ï¼š7ï¼š0.5 = â–¡ï¼š21", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "0.5 Ã— â–¡ = 7 Ã— 21", "0.5 Ã— â–¡ = 147", "â–¡ = 147 Ã· 0.5", "â–¡ = 294"] },
      { question: "7ï¼šâ–¡ï¼2<div style='display:inline-flex;flex-direction:column;align-items:center;vertical-align:middle;margin:0 4px;'><span style='font-size:20px;'>1</span><span style='border-top:2px solid #333;width:30px;margin:2px 0;'></span><span style='font-size:20px;'>5</span></div>ï¼š1<div style='display:inline-flex;flex-direction:column;align-items:center;vertical-align:middle;margin:0 4px;'><span style='font-size:20px;'>4</span><span style='border-top:2px solid #333;width:30px;margin:2px 0;'></span><span style='font-size:20px;'>7</span></div>", answer: "5", type: "integer", solution: ["å·²çŸ¥ï¼š7ï¼šâ–¡ = 2 1/5ï¼š1 4/7", "å…ˆè½‰æ›å¸¶åˆ†æ•¸ï¼š2 1/5 = 11/5ï¼Œ1 4/7 = 11/7", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "11/5 Ã— â–¡ = 7 Ã— 11/7", "11/5 Ã— â–¡ = 11", "â–¡ = 11 Ã· 11/5 = 11 Ã— 5/11 = 5"] },
      { question: "1.8ï¼š3<div style='display:inline-flex;flex-direction:column;align-items:center;vertical-align:middle;margin:0 4px;'><span style='font-size:20px;'>3</span><span style='border-top:2px solid #333;width:30px;margin:2px 0;'></span><span style='font-size:20px;'>5</span></div>ï¼8ï¼šâ–¡", answer: "16", type: "integer", solution: ["å·²çŸ¥ï¼š1.8ï¼š3 3/5 = 8ï¼šâ–¡", "å…ˆè½‰æ›å¸¶åˆ†æ•¸ï¼š3 3/5 = 18/5", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "1.8 Ã— â–¡ = 18/5 Ã— 8", "1.8 Ã— â–¡ = 28.8", "â–¡ = 28.8 Ã· 1.8", "â–¡ = 16"] },
      { question: "7ï¼š9ï¼35ï¼šâ–¡", answer: "45", type: "integer", solution: ["å·²çŸ¥ï¼š7ï¼š9 = 35ï¼šâ–¡", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "7 Ã— â–¡ = 9 Ã— 35", "7 Ã— â–¡ = 315", "â–¡ = 315 Ã· 7", "â–¡ = 45"] },
      { question: "65ï¼š17ï¼â–¡ï¼š3.4", answer: "13", type: "integer", solution: ["å·²çŸ¥ï¼š65ï¼š17 = â–¡ï¼š3.4", "æ ¹æ“šæ¯”ä¾‹æ€§è³ª", "17 Ã— â–¡ = 65 Ã— 3.4", "17 Ã— â–¡ = 221", "â–¡ = 221 Ã· 17", "â–¡ = 13"] }
    ];

    let currentState = {
      grade: 0,
      classNumber: 0,
      seatNumber: 0,
      currentQuestionIndex: 0,
      todayQuestions: [],
      userAnswers: []
    };

    function getTodayDate() {
      const today = new Date();
      return `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
    }

    function seededRandom(seed) {
      const x = Math.sin(seed) * 10000;
      return x - Math.floor(x);
    }

    function generateDailyQuestions(dateStr) {
      const seed = dateStr.split('-').reduce((acc, val) => acc + parseInt(val), 0);
      const shuffled = [...allQuestions];
      
      for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(seededRandom(seed + i) * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
      }
      
      const integerQuestions = shuffled.filter(q => q.type === 'integer').slice(0, 2);
      const decimalQuestions = shuffled.filter(q => q.type === 'decimal').slice(0, 2);
      const fractionQuestions = shuffled.filter(q => q.type === 'fraction').slice(0, 2);
      
      return [...integerQuestions, ...decimalQuestions, ...fractionQuestions];
    }

    function showPage(pageName) {
      document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
      document.getElementById(pageName).classList.add('active');
    }

    function renderQuestion() {
      const question = currentState.todayQuestions[currentState.currentQuestionIndex];
      const progress = ((currentState.currentQuestionIndex) / 6) * 100;
      
      document.getElementById('progressFill').style.width = `${progress}%`;
      document.getElementById('currentQuestion').textContent = currentState.currentQuestionIndex + 1;
      document.getElementById('questionText').innerHTML = question.question;
      
      const answerArea = document.getElementById('answerInputArea');
      const hintArea = document.getElementById('answerHint');
      
      if (question.type === 'fraction') {
        answerArea.innerHTML = `
          <div class="answer-input">
            <input type="number" id="integerPart" placeholder="æ•´æ•¸" style="width: 60px;">
            <div class="fraction-input">
              <input type="number" id="numerator" placeholder="åˆ†å­">
              <div class="fraction-line"></div>
              <input type="number" id="denominator" placeholder="åˆ†æ¯">
            </div>
          </div>
        `;
        hintArea.style.display = 'block';
        hintArea.textContent = 'ğŸ’¡ æ­¤é¡Œç­”æ¡ˆç‚ºåˆ†æ•¸ï¼Œè«‹å¡«å…¥æ•´æ•¸ã€åˆ†å­å’Œåˆ†æ¯';
      } else {
        answerArea.innerHTML = `
          <div class="answer-input">
            <input type="text" id="answerInput" placeholder="è«‹è¼¸å…¥ç­”æ¡ˆ">
          </div>
        `;
        hintArea.style.display = 'none';
      }
    }

    function getUserAnswer() {
      const question = currentState.todayQuestions[currentState.currentQuestionIndex];
      
      if (question.type === 'fraction') {
        const integer = document.getElementById('integerPart').value.trim();
        const numerator = document.getElementById('numerator').value.trim();
        const denominator = document.getElementById('denominator').value.trim();
        
        if (!numerator || !denominator) return null;
        
        if (integer) {
          return `${integer} ${numerator}/${denominator}`;
        } else {
          return `${numerator}/${denominator}`;
        }
      } else {
        return document.getElementById('answerInput').value.trim();
      }
    }

    function normalizeAnswer(answer) {
      if (!answer) return '';
      
      answer = answer.toString().trim();
      
      if (answer.includes('/')) {
        const parts = answer.split(' ');
        if (parts.length === 2) {
          const integer = parseInt(parts[0]);
          const [num, den] = parts[1].split('/').map(x => parseInt(x));
          const improperNum = integer * den + num;
          return `${improperNum}/${den}`;
        }
        
        const [num, den] = answer.split('/').map(x => parseInt(x));
        const gcd = (a, b) => b === 0 ? a : gcd(b, a % b);
        const divisor = gcd(Math.abs(num), Math.abs(den));
        return `${num / divisor}/${den / divisor}`;
      }
      
      return parseFloat(answer).toString();
    }

    function checkAnswer(userAnswer, correctAnswer) {
      return normalizeAnswer(userAnswer) === normalizeAnswer(correctAnswer);
    }

    async function submitAnswer() {
      const userAnswer = getUserAnswer();
      
      if (!userAnswer) {
        return;
      }
      
      currentState.userAnswers.push(userAnswer);
      
      if (currentState.currentQuestionIndex < 5) {
        currentState.currentQuestionIndex++;
        renderQuestion();
      } else {
        await showResults();
      }
    }

    async function showResults() {
      let correctCount = 0;
      const resultsContainer = document.getElementById('resultsContainer');
      resultsContainer.innerHTML = '';
      
      currentState.todayQuestions.forEach((question, index) => {
        const userAnswer = currentState.userAnswers[index];
        const isCorrect = checkAnswer(userAnswer, question.answer);
        if (isCorrect) correctCount++;
        
        const resultItem = document.createElement('div');
        resultItem.className = `result-item ${isCorrect ? 'correct' : 'incorrect'}`;
        
        const solutionSteps = question.solution.map(step => `<div>${step}</div>`).join('');
        
        resultItem.innerHTML = `
          <div class="result-header">
            <span>ç¬¬ ${index + 1} é¡Œï¼š${question.question}</span>
            <span class="status-badge ${isCorrect ? 'correct' : 'incorrect'}">
              ${isCorrect ? 'âœ“ æ­£ç¢º' : 'âœ— éŒ¯èª¤'}
            </span>
          </div>
          <div style="margin: 12px 0; font-size: 16px;">
            <strong>ä½ çš„ç­”æ¡ˆï¼š</strong>${userAnswer || 'æœªä½œç­”'}
            ${!isCorrect ? `<br><strong style="color: #4caf50;">æ­£ç¢ºç­”æ¡ˆï¼š</strong>${question.answer}` : ''}
          </div>
          <div class="solution">
            <div class="solution-title">ğŸ“ è§£é¡Œéç¨‹ï¼š</div>
            <div class="solution-steps">${solutionSteps}</div>
          </div>
        `;
        
        resultsContainer.appendChild(resultItem);
      });
      
      document.getElementById('correctCount').textContent = correctCount;
      
      showPage('resultPage');
    }

    function updateConfigUI(config) {
      document.getElementById('mainTitle').textContent = config.main_title || defaultConfig.main_title;
      document.getElementById('dateLabel').textContent = config.date_label || defaultConfig.date_label;
      document.getElementById('gradeLabel').textContent = config.grade_label || defaultConfig.grade_label;
      document.getElementById('classLabel').textContent = config.class_label || defaultConfig.class_label;
      document.getElementById('seatLabel').textContent = config.seat_label || defaultConfig.seat_label;
      document.getElementById('startButtonText').textContent = config.start_button_text || defaultConfig.start_button_text;
    }

    document.getElementById('todayDate').textContent = getTodayDate();

    document.getElementById('startBtn').addEventListener('click', () => {
      const grade = parseInt(document.getElementById('gradeInput').value);
      const classNumber = parseInt(document.getElementById('classInput').value);
      const seatNumber = parseInt(document.getElementById('seatInput').value);
      
      if (!grade || !classNumber || !seatNumber) {
        return;
      }
      
      currentState.grade = grade;
      currentState.classNumber = classNumber;
      currentState.seatNumber = seatNumber;
      currentState.currentQuestionIndex = 0;
      currentState.userAnswers = [];
      currentState.todayQuestions = generateDailyQuestions(getTodayDate());
      
      document.getElementById('studentInfo').innerHTML = `
        <span style="font-size: 16px;">ğŸ‘¤</span>
        <span>${grade}å¹´${classNumber}ç­${seatNumber}è™Ÿ</span>
      `;
      
      renderQuestion();
      showPage('quizPage');
    });

    document.getElementById('submitBtn').addEventListener('click', submitAnswer);

    document.getElementById('restartBtn').addEventListener('click', () => {
      document.getElementById('gradeInput').value = '';
      document.getElementById('classInput').value = '';
      document.getElementById('seatInput').value = '';
      showPage('startPage');
    });

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange: async (config) => {
          updateConfigUI(config);
        },
        mapToCapabilities: (config) => ({
          recolorables: [],
          borderables: [],
          fontEditable: undefined,
          fontSizeable: undefined
        }),
        mapToEditPanelValues: (config) => new Map([
          ["main_title", config.main_title || defaultConfig.main_title],
          ["date_label", config.date_label || defaultConfig.date_label],
          ["grade_label", config.grade_label || defaultConfig.grade_label],
          ["class_label", config.class_label || defaultConfig.class_label],
          ["seat_label", config.seat_label || defaultConfig.seat_label],
          ["start_button_text", config.start_button_text || defaultConfig.start_button_text]
        ])
      });
    }
  </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a0fad8a34a1a9ad',t:'MTc2MzU1NDk5Ny4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>